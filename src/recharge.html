<!DOCTYPE html>
<html lang="zh-CN">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="description" content="">
	<meta name="author" content="">
	<link rel="icon" href="">
	<title>永高娱乐</title>
	<meta name="viewport" content="width=1366, initial-scale=1">
	<!-- build:css css/recharge.css -->
	<link href="css/normalize.css" rel="stylesheet">
	<link href="css/common.css" rel="stylesheet">
	<link href="css/wallet.css" rel="stylesheet">
	<link href="css/recharge.css" rel="stylesheet">
	<!-- endbuild -->
	<!--[if lte IE 9]>
		<p class="browserupgrade">您的浏览器版本不支持, 请到 <a href="http://browsehappy.com/">这里</a> 更新, 以获取最佳的体验</p>
		<![endif]-->
</head>

<body>
	@@include('include/header.html')

	<div class="container center-block user-wallet">
		@@include('include/walletSidebar.html')

		<div class="content recharge">
			<div class="title">
				<span class="text">银行卡支付</span>
				<a class="record" href="rechargeRecord.html" target="_blank">充值记录</a>
			</div>
			<!-- <ul class="pay-type-wrap">
				<li class="item active" data-paymethod="wx">
					<i class="pay-icon wx"></i>微信支付
				</li>
				<li class="item" data-paymethod="zfb">
					<i class="pay-icon zfb"></i>支付宝支付
				</li>
				<li class="item" data-paymethod="wing">
					<i class="pay-icon wing"></i>Wing支付
				</li>
				<li class="item" data-paymethod="card">
					<i class="pay-icon card"></i>银行卡支付
				</li>
			</ul> -->
			<!-- 支付 -->
			<div class="wx-pay form-wrap">
				<!-- <div class="item">
					<label>充值账号:</label> <input id="account" class="input-box" type="text" placeholder="输入充值账号">
				</div>
				<div class="item">
					<label>再次输入:</label> <input id="accountConfirm" class="input-box" type="text" placeholder="再次确认账号">
				</div> -->
				<div class="item currency-list">
					<label>选择币种:</label>
					<select class="input-box" id="currentList">
						<option class="placeholder" value='' style='display:none;'>请选择币种</option>
						<option value="1" data-symbol="$">美元</option>
						<option value="2" data-symbol="￥">人民币</option>
						<option value="3">Opel</option>
						<option value="4">Audi</option>
					</select>
				</div>
				<div class="item card-list">
					<label>选择银行:</label>
					<select class="input-box" id="bankList">
						<option class="placeholder" value='' style='display:none;'>请选择银行</option>
						<option value="1">工行</option>
						<option value="2">农行</option>
						<option value="3">Opel</option>
						<option value="4">Audi</option>
					</select>
				</div>
				<div class="amount-wrap">
					<div class="label">充值金额:</div>
					<div class="list" id="amoutList">
						<span class="box active"><span class="symbol"></span><span class="amount">100</span></span>
						<span class="box"><span class="symbol"></span><span class="amount">200</span></span>
						<span class="box"><span class="symbol"></span><span class="amount">500</span></span>
						<span class="box"><span class="symbol"></span><span class="amount">1000</span></span>
						<span class="box"><span class="symbol"></span><span class="amount">5000</span></span>
						<span class="box other"><span class="symbol"></span><input id="amountInput" type="number"
								placeholder="其他金额"></span>
					</div>
				</div>
				<div class="to-amount-tip" id="recAmount">
					<span class="text">到账金额</span>
					<span class="amount">￥99.95</span>
					<span class="cost">(费用：0.05%)</span>
				</div>
				<button id="reInfoShow" class="primary submit">立即充值</button>
			</div>
			<!-- 支付END -->

			<!-- 银行卡支付 未绑卡 -->
			<div class="card-pay-unbind form-wrap" style="display:none;">
				<div class="card-ub-tip">您还没绑定银行卡</div>
				<button class="primary add-card-btn"><a href="addBankCard.html">立即添加</a></button>
			</div>
			<!-- 银行卡支付 未绑卡END -->

			<div class="bottom-tip">
				<div class="tit">温馨提示</div>
				<div class="text">1、您必须拥有本人银行卡账户，保证您的帐户有足够的现金。<br> 2、首次使用必须绑定银行卡。</div>
			</div>
		</div>
	</div>
	@@include('include/footer.html')
	@@include('include/siteTool.html')

	<!-- 公司账户信息模态框 -->
	<div id="copBankAccModal" class="yg-modal cop-bank-acc-modal" style="display:none;">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<div class="modal-title">
						<div class="m-tit">转账信息</div>
						<div class="s-tit">请往以下账户转入相应的充值金额</div>
					</div>
					<button class="close"></button>
				</div>
				<div class="modal-body">
					<div class="account-info">
						<div class="item"><span class="label">银行</span><span class="val">中国工商银行</span></div>
						<div class="item"><span class="label">支行</span><span class="val">金边支行</span>
						</div>
						<div class="item"><span class="label">账号</span><span class="val">32232323132131</span>
						</div>
						<div class="item"><span class="label">姓名</span><span class="val">胡歌</span></div>
						<div class="item"><span class="label">转账金额</span><span class="val warning">￥100</span></div>
						<div class="tip-info">
							<div class="row">
								<span>转账留言:永高</span>
								<span>有助于快速审核</span>
							</div>
							<div class="row">
								温馨提示：转账时间期限为1小时内，超时订单将自动关闭
							</div>
						</div>
						<div class="btn-group">
							<button class="primary btn">已转账</button>
						</div>
					</div>
				</div>
				<!-- <div class="modal-footer"></div> -->
			</div>
		</div>
	</div>
	<!-- 公司账户信息模态框 END-->

	<!-- 第三方支付模态框 -->
	<div class="yg-modal pay-modal">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<div class="modal-title">请使用微信扫描二维码以完成支付</div>
					<button class="close"></button>
				</div>
				<div class="modal-body">
					<div class="pay">
						<img class="pay-code" src="img/downAPP/erweima.png" alt="" width="214" height="214">
						<div class="pay-tip">请使用微信扫描<br>二维码完成支付</div>
					</div>
				</div>
				<!-- <div class="modal-footer"></div> -->
			</div>
		</div>
	</div>
	<!--  第三方支付模态框 END-->

	<!-- 充值结果模态框 -->
	<div class="yg-modal success-modal">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button class="close"></button>
				</div>
				<div class="modal-body">
					<div class="recg-result">
						<div class="res-tip">充值成功</div>
						<div class="res-sub-tip">请留意通知信息</div>
						<button class="primary ok">确定</button>
					</div>
				</div>
				<!-- <div class="modal-footer"></div> -->
			</div>
		</div>
	</div>
	<!-- 充值结果模态框 END-->


	<!-- build:js js/recharge.js -->
	<script src="lib/jquery.js"></script>
	<script src="js/common.js"></script>
	<!-- endbuild -->

	<script type="text/javascript">
		var payMethodText = "银行卡支付";
		var payCurrenyText = "";
		var payAmount = "100";
		var payAmountText = "";
		var recAmountText = "";
		var currencyId = "";
		var bankId = "";
		var curSymbol = "";

		// 选择充值方式
		function choosePayMethod() {
			$(".pay-type-wrap .item").click(function () {
				var curPayMethod = $(this).data("paymethod");
				var $titleBox = $(".recharge .title .text");
				$(this).addClass("active").siblings().removeClass("active");
				if (curPayMethod === "wx") {
					payMethodText = "微信支付";

				} else if (curPayMethod === "zfb") {
					payMethodText = "支付宝支付";
				} else if (curPayMethod === "wing") {
					payMethodText = "Wing支付";
				} else if (curPayMethod === "card") {
					payMethodText = "银行卡支付";
				}
				if (curPayMethod === "card") {
					$(".recharge .form-wrap").hide();
					$(".recharge .card-pay-unbind").show();

				} else {
					$(".recharge .form-wrap").hide();
					$(".recharge .wx-pay").show();
				}
				$titleBox.text(payMethodText);
			})
		}

		// 选择币种
		function chooseCurrency() {
			$("#currentList").on("change", function () {
				curSymbol = $(this).find('option:selected').data('symbol');
				payCurrenyText = $(this).find('option:selected').text();
				currencyId = $(this).find('option:selected').val();
				$('.amount-wrap .symbol').text(curSymbol);
				payAmountText = curSymbol + payAmount;
				calcRecAoumnt();
			})
		}

		// 选择银行
		function chooseBankId() {
			$("#bankList").on("change", function () {
				bankId = $(this).val();
			})
		}

		// 选择充值金额
		function chooseAmount() {
			$(".amount-wrap .box").click(function () {
				$(this).addClass("active").siblings().removeClass("active");
				if (!$(this).hasClass('other')) {
					$("#amountInput").val('');
				}
				payAmount = $(this).find('.amount').text();
				payAmountText = curSymbol + payAmount;
				calcRecAoumnt();
			})
		}

		// 填写其他金额
		function inputAmount() {
			$("#amountInput").keyup(function () {
				payAmount = $(this).val();
				payAmountText = curSymbol + payAmount;
				calcRecAoumnt();
			})
		}


		// 计算到账金额
		function calcRecAoumnt() {
			// ...ajax操作省略
			//
			recAmountText = payAmountText;
			$("#recAmount .amount").text(recAmountText);
		}

		// 提交时充值信息时表单验证
		function submitVer() {
			$("#reInfoShow").click(function () {
				$('.form-wrap .yg-error').remove(); //重置所有错误提示

				payAccText = $("#account").val();
				payAccConfirm = $("#accountConfirm").val();
				payAmountText = curSymbol + payAmount;

				// 把信息赋值到模态框里
				$("#recInfo .payMethod .val").text(payMethodText);
				$("#recInfo .payAcc .val").text(payAccText);
				$("#recInfo .payCurreny .val").text(payCurrenyText);
				$("#recInfo .payAmount .val").text(payAmountText);
				$("#recInfo .recAmount .val").text(recAmountText);

				if (currencyId === '') {
					eInfo = errorInfo("请选择币种");
					$("#currentList").parent().append(eInfo);
				}else if(bankId === '') {
					eInfo = errorInfo("请选择银行");
					$("#bankList").parent().append(eInfo);
				} else {
					// 显示账户信息模态框
					ygModalShow('#copBankAccModal');
				}
			})
		}

		// 充值信息模态框内的按钮事件
		// function rhgBtnInit() {
		// 	// 取消
		// 	$(".recharge-modal .cancel").click(function () {
		// 		ygModalHide('.recharge-modal');
		// 	})
		// 	// 确定
		// 	$(".recharge-modal .submit").click(function () {
		// 		ygModalShow('#copBankAccModal')
		// 		ygModalHide('.recharge-modal');
		// 	})
		// 	// 已转账按钮
		// 	$("#copBankAccModal .btn").click(function () {
		// 		ygModalShow('.success-modal')
		// 		ygModalHide('#copBankAccModal');
		// 		$(".success-modal .res-tip").text("审核通过后，充值金额将转入您的钱包");
		// 	})
		// 	// 成功后的确定按钮事件绑定
		// 	$(".success-modal .ok").click(function () {
		// 		ygModalHide('.success-modal');
		// 	})
		// }

		$(function () {
			// choosePayMethod();
			chooseCurrency();
			chooseBankId();
			chooseAmount();
			inputAmount();
			submitVer();
			// rhgBtnInit();
		})
	</script>
</body>

</html>